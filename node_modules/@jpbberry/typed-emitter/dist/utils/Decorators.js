"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Once = exports.Event = exports.eventMapper = void 0;
exports.eventMapper = Symbol('__event_map');
function addEvent(target, method, event, type) {
    if (target[exports.eventMapper] === undefined) {
        target[exports.eventMapper] = [];
    }
    else if (!target.hasOwnProperty(exports.eventMapper)) {
        target[exports.eventMapper] = [...target[exports.eventMapper]];
    }
    target[exports.eventMapper].push({
        event,
        method,
        type
    });
}
function Event(event) {
    return function (target, method) {
        addEvent(target, method, event, 'on');
    };
}
exports.Event = Event;
function Once(event) {
    return function (target, method) {
        addEvent(target, method, event, 'once');
    };
}
exports.Once = Once;
